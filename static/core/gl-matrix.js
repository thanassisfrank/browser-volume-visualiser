var z=1e-6,T=typeof Float32Array!="undefined"?Float32Array:Array,P=Math.random;function h1(r){T=r}var M1=Math.PI/180;function l1(r){return r*M1}function y1(r,n){return Math.abs(r-n)<=z*Math.max(1,Math.abs(r),Math.abs(n))}Math.hypot||(Math.hypot=function(){for(var r=0,n=arguments.length;n--;)r+=arguments[n]*arguments[n];return Math.sqrt(r)});var $1=Object.freeze({__proto__:null,EPSILON:z,get ARRAY_TYPE(){return T},RANDOM:P,setMatrixArrayType:h1,toRadian:l1,equals:y1});function t1(){var r=new T(4);return T!=Float32Array&&(r[1]=0,r[2]=0),r[0]=1,r[3]=1,r}function x1(r){var n=new T(4);return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n}function m1(r,n){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r}function d1(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r}function z1(r,n,a,e){var i=new T(4);return i[0]=r,i[1]=n,i[2]=a,i[3]=e,i}function p1(r,n,a,e,i){return r[0]=n,r[1]=a,r[2]=e,r[3]=i,r}function w1(r,n){if(r===n){var a=n[1];r[1]=n[2],r[2]=a}else r[0]=n[0],r[1]=n[2],r[2]=n[1],r[3]=n[3];return r}function g1(r,n){var a=n[0],e=n[1],i=n[2],v=n[3],s=a*v-i*e;return s?(s=1/s,r[0]=v*s,r[1]=-e*s,r[2]=-i*s,r[3]=a*s,r):null}function q1(r,n){var a=n[0];return r[0]=n[3],r[1]=-n[1],r[2]=-n[2],r[3]=a,r}function A1(r){return r[0]*r[3]-r[2]*r[1]}function o(r,n,a){var e=n[0],i=n[1],v=n[2],s=n[3],c=a[0],f=a[1],h=a[2],M=a[3];return r[0]=e*c+v*f,r[1]=i*c+s*f,r[2]=e*h+v*M,r[3]=i*h+s*M,r}function R1(r,n,a){var e=n[0],i=n[1],v=n[2],s=n[3],c=Math.sin(a),f=Math.cos(a);return r[0]=e*f+v*c,r[1]=i*f+s*c,r[2]=e*-c+v*f,r[3]=i*-c+s*f,r}function T1(r,n,a){var e=n[0],i=n[1],v=n[2],s=n[3],c=a[0],f=a[1];return r[0]=e*c,r[1]=i*c,r[2]=v*f,r[3]=s*f,r}function S1(r,n){var a=Math.sin(n),e=Math.cos(n);return r[0]=e,r[1]=a,r[2]=-a,r[3]=e,r}function E1(r,n){return r[0]=n[0],r[1]=0,r[2]=0,r[3]=n[1],r}function _1(r){return"mat2("+r[0]+", "+r[1]+", "+r[2]+", "+r[3]+")"}function D1(r){return Math.hypot(r[0],r[1],r[2],r[3])}function O1(r,n,a,e){return r[2]=e[2]/e[0],a[0]=e[0],a[1]=e[1],a[3]=e[3]-r[2]*a[1],[r,n,a]}function V1(r,n,a){return r[0]=n[0]+a[0],r[1]=n[1]+a[1],r[2]=n[2]+a[2],r[3]=n[3]+a[3],r}function rr(r,n,a){return r[0]=n[0]-a[0],r[1]=n[1]-a[1],r[2]=n[2]-a[2],r[3]=n[3]-a[3],r}function L1(r,n){return r[0]===n[0]&&r[1]===n[1]&&r[2]===n[2]&&r[3]===n[3]}function F1(r,n){var a=r[0],e=r[1],i=r[2],v=r[3],s=n[0],c=n[1],f=n[2],h=n[3];return Math.abs(a-s)<=z*Math.max(1,Math.abs(a),Math.abs(s))&&Math.abs(e-c)<=z*Math.max(1,Math.abs(e),Math.abs(c))&&Math.abs(i-f)<=z*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(v-h)<=z*Math.max(1,Math.abs(v),Math.abs(h))}function P1(r,n,a){return r[0]=n[0]*a,r[1]=n[1]*a,r[2]=n[2]*a,r[3]=n[3]*a,r}function I1(r,n,a,e){return r[0]=n[0]+a[0]*e,r[1]=n[1]+a[1]*e,r[2]=n[2]+a[2]*e,r[3]=n[3]+a[3]*e,r}var j1=o,Q1=rr,Y1=Object.freeze({__proto__:null,create:t1,clone:x1,copy:m1,identity:d1,fromValues:z1,set:p1,transpose:w1,invert:g1,adjoint:q1,determinant:A1,multiply:o,rotate:R1,scale:T1,fromRotation:S1,fromScaling:E1,str:_1,frob:D1,LDU:O1,add:V1,subtract:rr,exactEquals:L1,equals:F1,multiplyScalar:P1,multiplyScalarAndAdd:I1,mul:j1,sub:Q1});function Z1(){var r=new T(6);return T!=Float32Array&&(r[1]=0,r[2]=0,r[4]=0,r[5]=0),r[0]=1,r[3]=1,r}function b1(r){var n=new T(6);return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n}function X1(r,n){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5],r}function N1(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,r}function B1(r,n,a,e,i,v){var s=new T(6);return s[0]=r,s[1]=n,s[2]=a,s[3]=e,s[4]=i,s[5]=v,s}function C1(r,n,a,e,i,v,s){return r[0]=n,r[1]=a,r[2]=e,r[3]=i,r[4]=v,r[5]=s,r}function U1(r,n){var a=n[0],e=n[1],i=n[2],v=n[3],s=n[4],c=n[5],f=a*v-e*i;return f?(f=1/f,r[0]=v*f,r[1]=-e*f,r[2]=-i*f,r[3]=a*f,r[4]=(i*c-v*s)*f,r[5]=(e*s-a*c)*f,r):null}function W1(r){return r[0]*r[3]-r[1]*r[2]}function nr(r,n,a){var e=n[0],i=n[1],v=n[2],s=n[3],c=n[4],f=n[5],h=a[0],M=a[1],l=a[2],$=a[3],y=a[4],x=a[5];return r[0]=e*h+v*M,r[1]=i*h+s*M,r[2]=e*l+v*$,r[3]=i*l+s*$,r[4]=e*y+v*x+c,r[5]=i*y+s*x+f,r}function G1(r,n,a){var e=n[0],i=n[1],v=n[2],s=n[3],c=n[4],f=n[5],h=Math.sin(a),M=Math.cos(a);return r[0]=e*M+v*h,r[1]=i*M+s*h,r[2]=e*-h+v*M,r[3]=i*-h+s*M,r[4]=c,r[5]=f,r}function H1(r,n,a){var e=n[0],i=n[1],v=n[2],s=n[3],c=n[4],f=n[5],h=a[0],M=a[1];return r[0]=e*h,r[1]=i*h,r[2]=v*M,r[3]=s*M,r[4]=c,r[5]=f,r}function J1(r,n,a){var e=n[0],i=n[1],v=n[2],s=n[3],c=n[4],f=n[5],h=a[0],M=a[1];return r[0]=e,r[1]=i,r[2]=v,r[3]=s,r[4]=e*h+v*M+c,r[5]=i*h+s*M+f,r}function K1(r,n){var a=Math.sin(n),e=Math.cos(n);return r[0]=e,r[1]=a,r[2]=-a,r[3]=e,r[4]=0,r[5]=0,r}function k1(r,n){return r[0]=n[0],r[1]=0,r[2]=0,r[3]=n[1],r[4]=0,r[5]=0,r}function u1(r,n){return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=n[0],r[5]=n[1],r}function o1(r){return"mat2d("+r[0]+", "+r[1]+", "+r[2]+", "+r[3]+", "+r[4]+", "+r[5]+")"}function rn(r){return Math.hypot(r[0],r[1],r[2],r[3],r[4],r[5],1)}function nn(r,n,a){return r[0]=n[0]+a[0],r[1]=n[1]+a[1],r[2]=n[2]+a[2],r[3]=n[3]+a[3],r[4]=n[4]+a[4],r[5]=n[5]+a[5],r}function ar(r,n,a){return r[0]=n[0]-a[0],r[1]=n[1]-a[1],r[2]=n[2]-a[2],r[3]=n[3]-a[3],r[4]=n[4]-a[4],r[5]=n[5]-a[5],r}function an(r,n,a){return r[0]=n[0]*a,r[1]=n[1]*a,r[2]=n[2]*a,r[3]=n[3]*a,r[4]=n[4]*a,r[5]=n[5]*a,r}function en(r,n,a,e){return r[0]=n[0]+a[0]*e,r[1]=n[1]+a[1]*e,r[2]=n[2]+a[2]*e,r[3]=n[3]+a[3]*e,r[4]=n[4]+a[4]*e,r[5]=n[5]+a[5]*e,r}function vn(r,n){return r[0]===n[0]&&r[1]===n[1]&&r[2]===n[2]&&r[3]===n[3]&&r[4]===n[4]&&r[5]===n[5]}function sn(r,n){var a=r[0],e=r[1],i=r[2],v=r[3],s=r[4],c=r[5],f=n[0],h=n[1],M=n[2],l=n[3],$=n[4],y=n[5];return Math.abs(a-f)<=z*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(e-h)<=z*Math.max(1,Math.abs(e),Math.abs(h))&&Math.abs(i-M)<=z*Math.max(1,Math.abs(i),Math.abs(M))&&Math.abs(v-l)<=z*Math.max(1,Math.abs(v),Math.abs(l))&&Math.abs(s-$)<=z*Math.max(1,Math.abs(s),Math.abs($))&&Math.abs(c-y)<=z*Math.max(1,Math.abs(c),Math.abs(y))}var cn=nr,fn=ar,hn=Object.freeze({__proto__:null,create:Z1,clone:b1,copy:X1,identity:N1,fromValues:B1,set:C1,invert:U1,determinant:W1,multiply:nr,rotate:G1,scale:H1,translate:J1,fromRotation:K1,fromScaling:k1,fromTranslation:u1,str:o1,frob:rn,add:nn,subtract:ar,multiplyScalar:an,multiplyScalarAndAdd:en,exactEquals:vn,equals:sn,mul:cn,sub:fn});function er(){var r=new T(9);return T!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[5]=0,r[6]=0,r[7]=0),r[0]=1,r[4]=1,r[8]=1,r}function Mn(r,n){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[4],r[4]=n[5],r[5]=n[6],r[6]=n[8],r[7]=n[9],r[8]=n[10],r}function ln(r){var n=new T(9);return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n}function yn(r,n){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[8]=n[8],r}function $n(r,n,a,e,i,v,s,c,f){var h=new T(9);return h[0]=r,h[1]=n,h[2]=a,h[3]=e,h[4]=i,h[5]=v,h[6]=s,h[7]=c,h[8]=f,h}function tn(r,n,a,e,i,v,s,c,f,h){return r[0]=n,r[1]=a,r[2]=e,r[3]=i,r[4]=v,r[5]=s,r[6]=c,r[7]=f,r[8]=h,r}function xn(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=1,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r}function mn(r,n){if(r===n){var a=n[1],e=n[2],i=n[5];r[1]=n[3],r[2]=n[6],r[3]=a,r[5]=n[7],r[6]=e,r[7]=i}else r[0]=n[0],r[1]=n[3],r[2]=n[6],r[3]=n[1],r[4]=n[4],r[5]=n[7],r[6]=n[2],r[7]=n[5],r[8]=n[8];return r}function dn(r,n){var a=n[0],e=n[1],i=n[2],v=n[3],s=n[4],c=n[5],f=n[6],h=n[7],M=n[8],l=M*s-c*h,$=-M*v+c*f,y=h*v-s*f,x=a*l+e*$+i*y;return x?(x=1/x,r[0]=l*x,r[1]=(-M*e+i*h)*x,r[2]=(c*e-i*s)*x,r[3]=$*x,r[4]=(M*a-i*f)*x,r[5]=(-c*a+i*v)*x,r[6]=y*x,r[7]=(-h*a+e*f)*x,r[8]=(s*a-e*v)*x,r):null}function zn(r,n){var a=n[0],e=n[1],i=n[2],v=n[3],s=n[4],c=n[5],f=n[6],h=n[7],M=n[8];return r[0]=s*M-c*h,r[1]=i*h-e*M,r[2]=e*c-i*s,r[3]=c*f-v*M,r[4]=a*M-i*f,r[5]=i*v-a*c,r[6]=v*h-s*f,r[7]=e*f-a*h,r[8]=a*s-e*v,r}function pn(r){var n=r[0],a=r[1],e=r[2],i=r[3],v=r[4],s=r[5],c=r[6],f=r[7],h=r[8];return n*(h*v-s*f)+a*(-h*i+s*c)+e*(f*i-v*c)}function ir(r,n,a){var e=n[0],i=n[1],v=n[2],s=n[3],c=n[4],f=n[5],h=n[6],M=n[7],l=n[8],$=a[0],y=a[1],x=a[2],m=a[3],t=a[4],d=a[5],g=a[6],p=a[7],w=a[8];return r[0]=$*e+y*s+x*h,r[1]=$*i+y*c+x*M,r[2]=$*v+y*f+x*l,r[3]=m*e+t*s+d*h,r[4]=m*i+t*c+d*M,r[5]=m*v+t*f+d*l,r[6]=g*e+p*s+w*h,r[7]=g*i+p*c+w*M,r[8]=g*v+p*f+w*l,r}function wn(r,n,a){var e=n[0],i=n[1],v=n[2],s=n[3],c=n[4],f=n[5],h=n[6],M=n[7],l=n[8],$=a[0],y=a[1];return r[0]=e,r[1]=i,r[2]=v,r[3]=s,r[4]=c,r[5]=f,r[6]=$*e+y*s+h,r[7]=$*i+y*c+M,r[8]=$*v+y*f+l,r}function gn(r,n,a){var e=n[0],i=n[1],v=n[2],s=n[3],c=n[4],f=n[5],h=n[6],M=n[7],l=n[8],$=Math.sin(a),y=Math.cos(a);return r[0]=y*e+$*s,r[1]=y*i+$*c,r[2]=y*v+$*f,r[3]=y*s-$*e,r[4]=y*c-$*i,r[5]=y*f-$*v,r[6]=h,r[7]=M,r[8]=l,r}function qn(r,n,a){var e=a[0],i=a[1];return r[0]=e*n[0],r[1]=e*n[1],r[2]=e*n[2],r[3]=i*n[3],r[4]=i*n[4],r[5]=i*n[5],r[6]=n[6],r[7]=n[7],r[8]=n[8],r}function An(r,n){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=1,r[5]=0,r[6]=n[0],r[7]=n[1],r[8]=1,r}function Rn(r,n){var a=Math.sin(n),e=Math.cos(n);return r[0]=e,r[1]=a,r[2]=0,r[3]=-a,r[4]=e,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r}function Tn(r,n){return r[0]=n[0],r[1]=0,r[2]=0,r[3]=0,r[4]=n[1],r[5]=0,r[6]=0,r[7]=0,r[8]=1,r}function Sn(r,n){return r[0]=n[0],r[1]=n[1],r[2]=0,r[3]=n[2],r[4]=n[3],r[5]=0,r[6]=n[4],r[7]=n[5],r[8]=1,r}function En(r,n){var a=n[0],e=n[1],i=n[2],v=n[3],s=a+a,c=e+e,f=i+i,h=a*s,M=e*s,l=e*c,$=i*s,y=i*c,x=i*f,m=v*s,t=v*c,d=v*f;return r[0]=1-l-x,r[3]=M-d,r[6]=$+t,r[1]=M+d,r[4]=1-h-x,r[7]=y-m,r[2]=$-t,r[5]=y+m,r[8]=1-h-l,r}function _n(r,n){var a=n[0],e=n[1],i=n[2],v=n[3],s=n[4],c=n[5],f=n[6],h=n[7],M=n[8],l=n[9],$=n[10],y=n[11],x=n[12],m=n[13],t=n[14],d=n[15],g=a*c-e*s,p=a*f-i*s,w=a*h-v*s,A=e*f-i*c,q=e*h-v*c,O=i*h-v*f,E=M*m-l*x,_=M*t-$*x,S=M*d-y*x,V=l*t-$*m,D=l*d-y*m,L=$*d-y*t,R=g*L-p*D+w*V+A*S-q*_+O*E;return R?(R=1/R,r[0]=(c*L-f*D+h*V)*R,r[1]=(f*S-s*L-h*_)*R,r[2]=(s*D-c*S+h*E)*R,r[3]=(i*D-e*L-v*V)*R,r[4]=(a*L-i*S+v*_)*R,r[5]=(e*S-a*D-v*E)*R,r[6]=(m*O-t*q+d*A)*R,r[7]=(t*w-x*O-d*p)*R,r[8]=(x*q-m*w+d*g)*R,r):null}function Dn(r,n,a){return r[0]=2/n,r[1]=0,r[2]=0,r[3]=0,r[4]=-2/a,r[5]=0,r[6]=-1,r[7]=1,r[8]=1,r}function On(r){return"mat3("+r[0]+", "+r[1]+", "+r[2]+", "+r[3]+", "+r[4]+", "+r[5]+", "+r[6]+", "+r[7]+", "+r[8]+")"}function Vn(r){return Math.hypot(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8])}function Ln(r,n,a){return r[0]=n[0]+a[0],r[1]=n[1]+a[1],r[2]=n[2]+a[2],r[3]=n[3]+a[3],r[4]=n[4]+a[4],r[5]=n[5]+a[5],r[6]=n[6]+a[6],r[7]=n[7]+a[7],r[8]=n[8]+a[8],r}function vr(r,n,a){return r[0]=n[0]-a[0],r[1]=n[1]-a[1],r[2]=n[2]-a[2],r[3]=n[3]-a[3],r[4]=n[4]-a[4],r[5]=n[5]-a[5],r[6]=n[6]-a[6],r[7]=n[7]-a[7],r[8]=n[8]-a[8],r}function Fn(r,n,a){return r[0]=n[0]*a,r[1]=n[1]*a,r[2]=n[2]*a,r[3]=n[3]*a,r[4]=n[4]*a,r[5]=n[5]*a,r[6]=n[6]*a,r[7]=n[7]*a,r[8]=n[8]*a,r}function Pn(r,n,a,e){return r[0]=n[0]+a[0]*e,r[1]=n[1]+a[1]*e,r[2]=n[2]+a[2]*e,r[3]=n[3]+a[3]*e,r[4]=n[4]+a[4]*e,r[5]=n[5]+a[5]*e,r[6]=n[6]+a[6]*e,r[7]=n[7]+a[7]*e,r[8]=n[8]+a[8]*e,r}function In(r,n){return r[0]===n[0]&&r[1]===n[1]&&r[2]===n[2]&&r[3]===n[3]&&r[4]===n[4]&&r[5]===n[5]&&r[6]===n[6]&&r[7]===n[7]&&r[8]===n[8]}function jn(r,n){var a=r[0],e=r[1],i=r[2],v=r[3],s=r[4],c=r[5],f=r[6],h=r[7],M=r[8],l=n[0],$=n[1],y=n[2],x=n[3],m=n[4],t=n[5],d=n[6],g=n[7],p=n[8];return Math.abs(a-l)<=z*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(e-$)<=z*Math.max(1,Math.abs(e),Math.abs($))&&Math.abs(i-y)<=z*Math.max(1,Math.abs(i),Math.abs(y))&&Math.abs(v-x)<=z*Math.max(1,Math.abs(v),Math.abs(x))&&Math.abs(s-m)<=z*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(c-t)<=z*Math.max(1,Math.abs(c),Math.abs(t))&&Math.abs(f-d)<=z*Math.max(1,Math.abs(f),Math.abs(d))&&Math.abs(h-g)<=z*Math.max(1,Math.abs(h),Math.abs(g))&&Math.abs(M-p)<=z*Math.max(1,Math.abs(M),Math.abs(p))}var Qn=ir,Yn=vr,Zn=Object.freeze({__proto__:null,create:er,fromMat4:Mn,clone:ln,copy:yn,fromValues:$n,set:tn,identity:xn,transpose:mn,invert:dn,adjoint:zn,determinant:pn,multiply:ir,translate:wn,rotate:gn,scale:qn,fromTranslation:An,fromRotation:Rn,fromScaling:Tn,fromMat2d:Sn,fromQuat:En,normalFromMat4:_n,projection:Dn,str:On,frob:Vn,add:Ln,subtract:vr,multiplyScalar:Fn,multiplyScalarAndAdd:Pn,exactEquals:In,equals:jn,mul:Qn,sub:Yn});function bn(){var r=new T(16);return T!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0),r[0]=1,r[5]=1,r[10]=1,r[15]=1,r}function Xn(r){var n=new T(16);return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],n}function Nn(r,n){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[8]=n[8],r[9]=n[9],r[10]=n[10],r[11]=n[11],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15],r}function Bn(r,n,a,e,i,v,s,c,f,h,M,l,$,y,x,m){var t=new T(16);return t[0]=r,t[1]=n,t[2]=a,t[3]=e,t[4]=i,t[5]=v,t[6]=s,t[7]=c,t[8]=f,t[9]=h,t[10]=M,t[11]=l,t[12]=$,t[13]=y,t[14]=x,t[15]=m,t}function Cn(r,n,a,e,i,v,s,c,f,h,M,l,$,y,x,m,t){return r[0]=n,r[1]=a,r[2]=e,r[3]=i,r[4]=v,r[5]=s,r[6]=c,r[7]=f,r[8]=h,r[9]=M,r[10]=l,r[11]=$,r[12]=y,r[13]=x,r[14]=m,r[15]=t,r}function sr(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function Un(r,n){if(r===n){var a=n[1],e=n[2],i=n[3],v=n[6],s=n[7],c=n[11];r[1]=n[4],r[2]=n[8],r[3]=n[12],r[4]=a,r[6]=n[9],r[7]=n[13],r[8]=e,r[9]=v,r[11]=n[14],r[12]=i,r[13]=s,r[14]=c}else r[0]=n[0],r[1]=n[4],r[2]=n[8],r[3]=n[12],r[4]=n[1],r[5]=n[5],r[6]=n[9],r[7]=n[13],r[8]=n[2],r[9]=n[6],r[10]=n[10],r[11]=n[14],r[12]=n[3],r[13]=n[7],r[14]=n[11],r[15]=n[15];return r}function Wn(r,n){var a=n[0],e=n[1],i=n[2],v=n[3],s=n[4],c=n[5],f=n[6],h=n[7],M=n[8],l=n[9],$=n[10],y=n[11],x=n[12],m=n[13],t=n[14],d=n[15],g=a*c-e*s,p=a*f-i*s,w=a*h-v*s,A=e*f-i*c,q=e*h-v*c,O=i*h-v*f,E=M*m-l*x,_=M*t-$*x,S=M*d-y*x,V=l*t-$*m,D=l*d-y*m,L=$*d-y*t,R=g*L-p*D+w*V+A*S-q*_+O*E;return R?(R=1/R,r[0]=(c*L-f*D+h*V)*R,r[1]=(i*D-e*L-v*V)*R,r[2]=(m*O-t*q+d*A)*R,r[3]=($*q-l*O-y*A)*R,r[4]=(f*S-s*L-h*_)*R,r[5]=(a*L-i*S+v*_)*R,r[6]=(t*w-x*O-d*p)*R,r[7]=(M*O-$*w+y*p)*R,r[8]=(s*D-c*S+h*E)*R,r[9]=(e*S-a*D-v*E)*R,r[10]=(x*q-m*w+d*g)*R,r[11]=(l*w-M*q-y*g)*R,r[12]=(c*_-s*V-f*E)*R,r[13]=(a*V-e*_+i*E)*R,r[14]=(m*p-x*A-t*g)*R,r[15]=(M*A-l*p+$*g)*R,r):null}function Gn(r,n){var a=n[0],e=n[1],i=n[2],v=n[3],s=n[4],c=n[5],f=n[6],h=n[7],M=n[8],l=n[9],$=n[10],y=n[11],x=n[12],m=n[13],t=n[14],d=n[15];return r[0]=c*($*d-y*t)-l*(f*d-h*t)+m*(f*y-h*$),r[1]=-(e*($*d-y*t)-l*(i*d-v*t)+m*(i*y-v*$)),r[2]=e*(f*d-h*t)-c*(i*d-v*t)+m*(i*h-v*f),r[3]=-(e*(f*y-h*$)-c*(i*y-v*$)+l*(i*h-v*f)),r[4]=-(s*($*d-y*t)-M*(f*d-h*t)+x*(f*y-h*$)),r[5]=a*($*d-y*t)-M*(i*d-v*t)+x*(i*y-v*$),r[6]=-(a*(f*d-h*t)-s*(i*d-v*t)+x*(i*h-v*f)),r[7]=a*(f*y-h*$)-s*(i*y-v*$)+M*(i*h-v*f),r[8]=s*(l*d-y*m)-M*(c*d-h*m)+x*(c*y-h*l),r[9]=-(a*(l*d-y*m)-M*(e*d-v*m)+x*(e*y-v*l)),r[10]=a*(c*d-h*m)-s*(e*d-v*m)+x*(e*h-v*c),r[11]=-(a*(c*y-h*l)-s*(e*y-v*l)+M*(e*h-v*c)),r[12]=-(s*(l*t-$*m)-M*(c*t-f*m)+x*(c*$-f*l)),r[13]=a*(l*t-$*m)-M*(e*t-i*m)+x*(e*$-i*l),r[14]=-(a*(c*t-f*m)-s*(e*t-i*m)+x*(e*f-i*c)),r[15]=a*(c*$-f*l)-s*(e*$-i*l)+M*(e*f-i*c),r}function Hn(r){var n=r[0],a=r[1],e=r[2],i=r[3],v=r[4],s=r[5],c=r[6],f=r[7],h=r[8],M=r[9],l=r[10],$=r[11],y=r[12],x=r[13],m=r[14],t=r[15],d=n*s-a*v,g=n*c-e*v,p=n*f-i*v,w=a*c-e*s,A=a*f-i*s,q=e*f-i*c,O=h*x-M*y,E=h*m-l*y,_=h*t-$*y,S=M*m-l*x,V=M*t-$*x,D=l*t-$*m;return d*D-g*V+p*S+w*_-A*E+q*O}function cr(r,n,a){var e=n[0],i=n[1],v=n[2],s=n[3],c=n[4],f=n[5],h=n[6],M=n[7],l=n[8],$=n[9],y=n[10],x=n[11],m=n[12],t=n[13],d=n[14],g=n[15],p=a[0],w=a[1],A=a[2],q=a[3];return r[0]=p*e+w*c+A*l+q*m,r[1]=p*i+w*f+A*$+q*t,r[2]=p*v+w*h+A*y+q*d,r[3]=p*s+w*M+A*x+q*g,p=a[4],w=a[5],A=a[6],q=a[7],r[4]=p*e+w*c+A*l+q*m,r[5]=p*i+w*f+A*$+q*t,r[6]=p*v+w*h+A*y+q*d,r[7]=p*s+w*M+A*x+q*g,p=a[8],w=a[9],A=a[10],q=a[11],r[8]=p*e+w*c+A*l+q*m,r[9]=p*i+w*f+A*$+q*t,r[10]=p*v+w*h+A*y+q*d,r[11]=p*s+w*M+A*x+q*g,p=a[12],w=a[13],A=a[14],q=a[15],r[12]=p*e+w*c+A*l+q*m,r[13]=p*i+w*f+A*$+q*t,r[14]=p*v+w*h+A*y+q*d,r[15]=p*s+w*M+A*x+q*g,r}function Jn(r,n,a){var e=a[0],i=a[1],v=a[2],s,c,f,h,M,l,$,y,x,m,t,d;return n===r?(r[12]=n[0]*e+n[4]*i+n[8]*v+n[12],r[13]=n[1]*e+n[5]*i+n[9]*v+n[13],r[14]=n[2]*e+n[6]*i+n[10]*v+n[14],r[15]=n[3]*e+n[7]*i+n[11]*v+n[15]):(s=n[0],c=n[1],f=n[2],h=n[3],M=n[4],l=n[5],$=n[6],y=n[7],x=n[8],m=n[9],t=n[10],d=n[11],r[0]=s,r[1]=c,r[2]=f,r[3]=h,r[4]=M,r[5]=l,r[6]=$,r[7]=y,r[8]=x,r[9]=m,r[10]=t,r[11]=d,r[12]=s*e+M*i+x*v+n[12],r[13]=c*e+l*i+m*v+n[13],r[14]=f*e+$*i+t*v+n[14],r[15]=h*e+y*i+d*v+n[15]),r}function Kn(r,n,a){var e=a[0],i=a[1],v=a[2];return r[0]=n[0]*e,r[1]=n[1]*e,r[2]=n[2]*e,r[3]=n[3]*e,r[4]=n[4]*i,r[5]=n[5]*i,r[6]=n[6]*i,r[7]=n[7]*i,r[8]=n[8]*v,r[9]=n[9]*v,r[10]=n[10]*v,r[11]=n[11]*v,r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15],r}function kn(r,n,a,e){var i=e[0],v=e[1],s=e[2],c=Math.hypot(i,v,s),f,h,M,l,$,y,x,m,t,d,g,p,w,A,q,O,E,_,S,V,D,L,R,F;return c<z?null:(c=1/c,i*=c,v*=c,s*=c,f=Math.sin(a),h=Math.cos(a),M=1-h,l=n[0],$=n[1],y=n[2],x=n[3],m=n[4],t=n[5],d=n[6],g=n[7],p=n[8],w=n[9],A=n[10],q=n[11],O=i*i*M+h,E=v*i*M+s*f,_=s*i*M-v*f,S=i*v*M-s*f,V=v*v*M+h,D=s*v*M+i*f,L=i*s*M+v*f,R=v*s*M-i*f,F=s*s*M+h,r[0]=l*O+m*E+p*_,r[1]=$*O+t*E+w*_,r[2]=y*O+d*E+A*_,r[3]=x*O+g*E+q*_,r[4]=l*S+m*V+p*D,r[5]=$*S+t*V+w*D,r[6]=y*S+d*V+A*D,r[7]=x*S+g*V+q*D,r[8]=l*L+m*R+p*F,r[9]=$*L+t*R+w*F,r[10]=y*L+d*R+A*F,r[11]=x*L+g*R+q*F,n!==r&&(r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15]),r)}function un(r,n,a){var e=Math.sin(a),i=Math.cos(a),v=n[4],s=n[5],c=n[6],f=n[7],h=n[8],M=n[9],l=n[10],$=n[11];return n!==r&&(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15]),r[4]=v*i+h*e,r[5]=s*i+M*e,r[6]=c*i+l*e,r[7]=f*i+$*e,r[8]=h*i-v*e,r[9]=M*i-s*e,r[10]=l*i-c*e,r[11]=$*i-f*e,r}function on(r,n,a){var e=Math.sin(a),i=Math.cos(a),v=n[0],s=n[1],c=n[2],f=n[3],h=n[8],M=n[9],l=n[10],$=n[11];return n!==r&&(r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15]),r[0]=v*i-h*e,r[1]=s*i-M*e,r[2]=c*i-l*e,r[3]=f*i-$*e,r[8]=v*e+h*i,r[9]=s*e+M*i,r[10]=c*e+l*i,r[11]=f*e+$*i,r}function r0(r,n,a){var e=Math.sin(a),i=Math.cos(a),v=n[0],s=n[1],c=n[2],f=n[3],h=n[4],M=n[5],l=n[6],$=n[7];return n!==r&&(r[8]=n[8],r[9]=n[9],r[10]=n[10],r[11]=n[11],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15]),r[0]=v*i+h*e,r[1]=s*i+M*e,r[2]=c*i+l*e,r[3]=f*i+$*e,r[4]=h*i-v*e,r[5]=M*i-s*e,r[6]=l*i-c*e,r[7]=$*i-f*e,r}function n0(r,n){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=n[0],r[13]=n[1],r[14]=n[2],r[15]=1,r}function a0(r,n){return r[0]=n[0],r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=n[1],r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=n[2],r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function e0(r,n,a){var e=a[0],i=a[1],v=a[2],s=Math.hypot(e,i,v),c,f,h;return s<z?null:(s=1/s,e*=s,i*=s,v*=s,c=Math.sin(n),f=Math.cos(n),h=1-f,r[0]=e*e*h+f,r[1]=i*e*h+v*c,r[2]=v*e*h-i*c,r[3]=0,r[4]=e*i*h-v*c,r[5]=i*i*h+f,r[6]=v*i*h+e*c,r[7]=0,r[8]=e*v*h+i*c,r[9]=i*v*h-e*c,r[10]=v*v*h+f,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r)}function i0(r,n){var a=Math.sin(n),e=Math.cos(n);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=e,r[6]=a,r[7]=0,r[8]=0,r[9]=-a,r[10]=e,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function v0(r,n){var a=Math.sin(n),e=Math.cos(n);return r[0]=e,r[1]=0,r[2]=-a,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=a,r[9]=0,r[10]=e,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function s0(r,n){var a=Math.sin(n),e=Math.cos(n);return r[0]=e,r[1]=a,r[2]=0,r[3]=0,r[4]=-a,r[5]=e,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function fr(r,n,a){var e=n[0],i=n[1],v=n[2],s=n[3],c=e+e,f=i+i,h=v+v,M=e*c,l=e*f,$=e*h,y=i*f,x=i*h,m=v*h,t=s*c,d=s*f,g=s*h;return r[0]=1-(y+m),r[1]=l+g,r[2]=$-d,r[3]=0,r[4]=l-g,r[5]=1-(M+m),r[6]=x+t,r[7]=0,r[8]=$+d,r[9]=x-t,r[10]=1-(M+y),r[11]=0,r[12]=a[0],r[13]=a[1],r[14]=a[2],r[15]=1,r}function c0(r,n){var a=new T(3),e=-n[0],i=-n[1],v=-n[2],s=n[3],c=n[4],f=n[5],h=n[6],M=n[7],l=e*e+i*i+v*v+s*s;return l>0?(a[0]=(c*s+M*e+f*v-h*i)*2/l,a[1]=(f*s+M*i+h*e-c*v)*2/l,a[2]=(h*s+M*v+c*i-f*e)*2/l):(a[0]=(c*s+M*e+f*v-h*i)*2,a[1]=(f*s+M*i+h*e-c*v)*2,a[2]=(h*s+M*v+c*i-f*e)*2),fr(r,n,a),r}function hr(r,n){return r[0]=n[12],r[1]=n[13],r[2]=n[14],r}function Mr(r,n){var a=n[0],e=n[1],i=n[2],v=n[4],s=n[5],c=n[6],f=n[8],h=n[9],M=n[10];return r[0]=Math.hypot(a,e,i),r[1]=Math.hypot(v,s,c),r[2]=Math.hypot(f,h,M),r}function lr(r,n){var a=new T(3);Mr(a,n);var e=1/a[0],i=1/a[1],v=1/a[2],s=n[0]*e,c=n[1]*i,f=n[2]*v,h=n[4]*e,M=n[5]*i,l=n[6]*v,$=n[8]*e,y=n[9]*i,x=n[10]*v,m=s+M+x,t=0;return m>0?(t=Math.sqrt(m+1)*2,r[3]=.25*t,r[0]=(l-y)/t,r[1]=($-f)/t,r[2]=(c-h)/t):s>M&&s>x?(t=Math.sqrt(1+s-M-x)*2,r[3]=(l-y)/t,r[0]=.25*t,r[1]=(c+h)/t,r[2]=($+f)/t):M>x?(t=Math.sqrt(1+M-s-x)*2,r[3]=($-f)/t,r[0]=(c+h)/t,r[1]=.25*t,r[2]=(l+y)/t):(t=Math.sqrt(1+x-s-M)*2,r[3]=(c-h)/t,r[0]=($+f)/t,r[1]=(l+y)/t,r[2]=.25*t),r}function f0(r,n,a,e){var i=n[0],v=n[1],s=n[2],c=n[3],f=i+i,h=v+v,M=s+s,l=i*f,$=i*h,y=i*M,x=v*h,m=v*M,t=s*M,d=c*f,g=c*h,p=c*M,w=e[0],A=e[1],q=e[2];return r[0]=(1-(x+t))*w,r[1]=($+p)*w,r[2]=(y-g)*w,r[3]=0,r[4]=($-p)*A,r[5]=(1-(l+t))*A,r[6]=(m+d)*A,r[7]=0,r[8]=(y+g)*q,r[9]=(m-d)*q,r[10]=(1-(l+x))*q,r[11]=0,r[12]=a[0],r[13]=a[1],r[14]=a[2],r[15]=1,r}function h0(r,n,a,e,i){var v=n[0],s=n[1],c=n[2],f=n[3],h=v+v,M=s+s,l=c+c,$=v*h,y=v*M,x=v*l,m=s*M,t=s*l,d=c*l,g=f*h,p=f*M,w=f*l,A=e[0],q=e[1],O=e[2],E=i[0],_=i[1],S=i[2],V=(1-(m+d))*A,D=(y+w)*A,L=(x-p)*A,R=(y-w)*q,F=(1-($+d))*q,I=(t+g)*q,j=(x+p)*O,k=(t-g)*O,u=(1-($+m))*O;return r[0]=V,r[1]=D,r[2]=L,r[3]=0,r[4]=R,r[5]=F,r[6]=I,r[7]=0,r[8]=j,r[9]=k,r[10]=u,r[11]=0,r[12]=a[0]+E-(V*E+R*_+j*S),r[13]=a[1]+_-(D*E+F*_+k*S),r[14]=a[2]+S-(L*E+I*_+u*S),r[15]=1,r}function M0(r,n){var a=n[0],e=n[1],i=n[2],v=n[3],s=a+a,c=e+e,f=i+i,h=a*s,M=e*s,l=e*c,$=i*s,y=i*c,x=i*f,m=v*s,t=v*c,d=v*f;return r[0]=1-l-x,r[1]=M+d,r[2]=$-t,r[3]=0,r[4]=M-d,r[5]=1-h-x,r[6]=y+m,r[7]=0,r[8]=$+t,r[9]=y-m,r[10]=1-h-l,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function l0(r,n,a,e,i,v,s){var c=1/(a-n),f=1/(i-e),h=1/(v-s);return r[0]=v*2*c,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=v*2*f,r[6]=0,r[7]=0,r[8]=(a+n)*c,r[9]=(i+e)*f,r[10]=(s+v)*h,r[11]=-1,r[12]=0,r[13]=0,r[14]=s*v*2*h,r[15]=0,r}function yr(r,n,a,e,i){var v=1/Math.tan(n/2),s;return r[0]=v/a,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=v,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,i!=null&&i!==Infinity?(s=1/(e-i),r[10]=(i+e)*s,r[14]=2*i*e*s):(r[10]=-1,r[14]=-2*e),r}var y0=yr;function $0(r,n,a,e,i){var v=1/Math.tan(n/2),s;return r[0]=v/a,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=v,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,i!=null&&i!==Infinity?(s=1/(e-i),r[10]=i*s,r[14]=i*e*s):(r[10]=-1,r[14]=-e),r}function t0(r,n,a,e){var i=Math.tan(n.upDegrees*Math.PI/180),v=Math.tan(n.downDegrees*Math.PI/180),s=Math.tan(n.leftDegrees*Math.PI/180),c=Math.tan(n.rightDegrees*Math.PI/180),f=2/(s+c),h=2/(i+v);return r[0]=f,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=h,r[6]=0,r[7]=0,r[8]=-((s-c)*f*.5),r[9]=(i-v)*h*.5,r[10]=e/(a-e),r[11]=-1,r[12]=0,r[13]=0,r[14]=e*a/(a-e),r[15]=0,r}function $r(r,n,a,e,i,v,s){var c=1/(n-a),f=1/(e-i),h=1/(v-s);return r[0]=-2*c,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*f,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*h,r[11]=0,r[12]=(n+a)*c,r[13]=(i+e)*f,r[14]=(s+v)*h,r[15]=1,r}var x0=$r;function m0(r,n,a,e,i,v,s){var c=1/(n-a),f=1/(e-i),h=1/(v-s);return r[0]=-2*c,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*f,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=h,r[11]=0,r[12]=(n+a)*c,r[13]=(i+e)*f,r[14]=v*h,r[15]=1,r}function d0(r,n,a,e){var i,v,s,c,f,h,M,l,$,y,x=n[0],m=n[1],t=n[2],d=e[0],g=e[1],p=e[2],w=a[0],A=a[1],q=a[2];return Math.abs(x-w)<z&&Math.abs(m-A)<z&&Math.abs(t-q)<z?sr(r):(M=x-w,l=m-A,$=t-q,y=1/Math.hypot(M,l,$),M*=y,l*=y,$*=y,i=g*$-p*l,v=p*M-d*$,s=d*l-g*M,y=Math.hypot(i,v,s),y?(y=1/y,i*=y,v*=y,s*=y):(i=0,v=0,s=0),c=l*s-$*v,f=$*i-M*s,h=M*v-l*i,y=Math.hypot(c,f,h),y?(y=1/y,c*=y,f*=y,h*=y):(c=0,f=0,h=0),r[0]=i,r[1]=c,r[2]=M,r[3]=0,r[4]=v,r[5]=f,r[6]=l,r[7]=0,r[8]=s,r[9]=h,r[10]=$,r[11]=0,r[12]=-(i*x+v*m+s*t),r[13]=-(c*x+f*m+h*t),r[14]=-(M*x+l*m+$*t),r[15]=1,r)}function z0(r,n,a,e){var i=n[0],v=n[1],s=n[2],c=e[0],f=e[1],h=e[2],M=i-a[0],l=v-a[1],$=s-a[2],y=M*M+l*l+$*$;y>0&&(y=1/Math.sqrt(y),M*=y,l*=y,$*=y);var x=f*$-h*l,m=h*M-c*$,t=c*l-f*M;return y=x*x+m*m+t*t,y>0&&(y=1/Math.sqrt(y),x*=y,m*=y,t*=y),r[0]=x,r[1]=m,r[2]=t,r[3]=0,r[4]=l*t-$*m,r[5]=$*x-M*t,r[6]=M*m-l*x,r[7]=0,r[8]=M,r[9]=l,r[10]=$,r[11]=0,r[12]=i,r[13]=v,r[14]=s,r[15]=1,r}function p0(r){return"mat4("+r[0]+", "+r[1]+", "+r[2]+", "+r[3]+", "+r[4]+", "+r[5]+", "+r[6]+", "+r[7]+", "+r[8]+", "+r[9]+", "+r[10]+", "+r[11]+", "+r[12]+", "+r[13]+", "+r[14]+", "+r[15]+")"}function w0(r){return Math.hypot(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15])}function g0(r,n,a){return r[0]=n[0]+a[0],r[1]=n[1]+a[1],r[2]=n[2]+a[2],r[3]=n[3]+a[3],r[4]=n[4]+a[4],r[5]=n[5]+a[5],r[6]=n[6]+a[6],r[7]=n[7]+a[7],r[8]=n[8]+a[8],r[9]=n[9]+a[9],r[10]=n[10]+a[10],r[11]=n[11]+a[11],r[12]=n[12]+a[12],r[13]=n[13]+a[13],r[14]=n[14]+a[14],r[15]=n[15]+a[15],r}function tr(r,n,a){return r[0]=n[0]-a[0],r[1]=n[1]-a[1],r[2]=n[2]-a[2],r[3]=n[3]-a[3],r[4]=n[4]-a[4],r[5]=n[5]-a[5],r[6]=n[6]-a[6],r[7]=n[7]-a[7],r[8]=n[8]-a[8],r[9]=n[9]-a[9],r[10]=n[10]-a[10],r[11]=n[11]-a[11],r[12]=n[12]-a[12],r[13]=n[13]-a[13],r[14]=n[14]-a[14],r[15]=n[15]-a[15],r}function q0(r,n,a){return r[0]=n[0]*a,r[1]=n[1]*a,r[2]=n[2]*a,r[3]=n[3]*a,r[4]=n[4]*a,r[5]=n[5]*a,r[6]=n[6]*a,r[7]=n[7]*a,r[8]=n[8]*a,r[9]=n[9]*a,r[10]=n[10]*a,r[11]=n[11]*a,r[12]=n[12]*a,r[13]=n[13]*a,r[14]=n[14]*a,r[15]=n[15]*a,r}function A0(r,n,a,e){return r[0]=n[0]+a[0]*e,r[1]=n[1]+a[1]*e,r[2]=n[2]+a[2]*e,r[3]=n[3]+a[3]*e,r[4]=n[4]+a[4]*e,r[5]=n[5]+a[5]*e,r[6]=n[6]+a[6]*e,r[7]=n[7]+a[7]*e,r[8]=n[8]+a[8]*e,r[9]=n[9]+a[9]*e,r[10]=n[10]+a[10]*e,r[11]=n[11]+a[11]*e,r[12]=n[12]+a[12]*e,r[13]=n[13]+a[13]*e,r[14]=n[14]+a[14]*e,r[15]=n[15]+a[15]*e,r}function R0(r,n){return r[0]===n[0]&&r[1]===n[1]&&r[2]===n[2]&&r[3]===n[3]&&r[4]===n[4]&&r[5]===n[5]&&r[6]===n[6]&&r[7]===n[7]&&r[8]===n[8]&&r[9]===n[9]&&r[10]===n[10]&&r[11]===n[11]&&r[12]===n[12]&&r[13]===n[13]&&r[14]===n[14]&&r[15]===n[15]}function T0(r,n){var a=r[0],e=r[1],i=r[2],v=r[3],s=r[4],c=r[5],f=r[6],h=r[7],M=r[8],l=r[9],$=r[10],y=r[11],x=r[12],m=r[13],t=r[14],d=r[15],g=n[0],p=n[1],w=n[2],A=n[3],q=n[4],O=n[5],E=n[6],_=n[7],S=n[8],V=n[9],D=n[10],L=n[11],R=n[12],F=n[13],I=n[14],j=n[15];return Math.abs(a-g)<=z*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(e-p)<=z*Math.max(1,Math.abs(e),Math.abs(p))&&Math.abs(i-w)<=z*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(v-A)<=z*Math.max(1,Math.abs(v),Math.abs(A))&&Math.abs(s-q)<=z*Math.max(1,Math.abs(s),Math.abs(q))&&Math.abs(c-O)<=z*Math.max(1,Math.abs(c),Math.abs(O))&&Math.abs(f-E)<=z*Math.max(1,Math.abs(f),Math.abs(E))&&Math.abs(h-_)<=z*Math.max(1,Math.abs(h),Math.abs(_))&&Math.abs(M-S)<=z*Math.max(1,Math.abs(M),Math.abs(S))&&Math.abs(l-V)<=z*Math.max(1,Math.abs(l),Math.abs(V))&&Math.abs($-D)<=z*Math.max(1,Math.abs($),Math.abs(D))&&Math.abs(y-L)<=z*Math.max(1,Math.abs(y),Math.abs(L))&&Math.abs(x-R)<=z*Math.max(1,Math.abs(x),Math.abs(R))&&Math.abs(m-F)<=z*Math.max(1,Math.abs(m),Math.abs(F))&&Math.abs(t-I)<=z*Math.max(1,Math.abs(t),Math.abs(I))&&Math.abs(d-j)<=z*Math.max(1,Math.abs(d),Math.abs(j))}var S0=cr,E0=tr,_0=Object.freeze({__proto__:null,create:bn,clone:Xn,copy:Nn,fromValues:Bn,set:Cn,identity:sr,transpose:Un,invert:Wn,adjoint:Gn,determinant:Hn,multiply:cr,translate:Jn,scale:Kn,rotate:kn,rotateX:un,rotateY:on,rotateZ:r0,fromTranslation:n0,fromScaling:a0,fromRotation:e0,fromXRotation:i0,fromYRotation:v0,fromZRotation:s0,fromRotationTranslation:fr,fromQuat2:c0,getTranslation:hr,getScaling:Mr,getRotation:lr,fromRotationTranslationScale:f0,fromRotationTranslationScaleOrigin:h0,fromQuat:M0,frustum:l0,perspectiveNO:yr,perspective:y0,perspectiveZO:$0,perspectiveFromFieldOfView:t0,orthoNO:$r,ortho:x0,orthoZO:m0,lookAt:d0,targetTo:z0,str:p0,frob:w0,add:g0,subtract:tr,multiplyScalar:q0,multiplyScalarAndAdd:A0,exactEquals:R0,equals:T0,mul:S0,sub:E0});function X(){var r=new T(3);return T!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r}function D0(r){var n=new T(3);return n[0]=r[0],n[1]=r[1],n[2]=r[2],n}function xr(r){var n=r[0],a=r[1],e=r[2];return Math.hypot(n,a,e)}function N(r,n,a){var e=new T(3);return e[0]=r,e[1]=n,e[2]=a,e}function O0(r,n){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r}function V0(r,n,a,e){return r[0]=n,r[1]=a,r[2]=e,r}function L0(r,n,a){return r[0]=n[0]+a[0],r[1]=n[1]+a[1],r[2]=n[2]+a[2],r}function mr(r,n,a){return r[0]=n[0]-a[0],r[1]=n[1]-a[1],r[2]=n[2]-a[2],r}function dr(r,n,a){return r[0]=n[0]*a[0],r[1]=n[1]*a[1],r[2]=n[2]*a[2],r}function zr(r,n,a){return r[0]=n[0]/a[0],r[1]=n[1]/a[1],r[2]=n[2]/a[2],r}function F0(r,n){return r[0]=Math.ceil(n[0]),r[1]=Math.ceil(n[1]),r[2]=Math.ceil(n[2]),r}function P0(r,n){return r[0]=Math.floor(n[0]),r[1]=Math.floor(n[1]),r[2]=Math.floor(n[2]),r}function I0(r,n,a){return r[0]=Math.min(n[0],a[0]),r[1]=Math.min(n[1],a[1]),r[2]=Math.min(n[2],a[2]),r}function j0(r,n,a){return r[0]=Math.max(n[0],a[0]),r[1]=Math.max(n[1],a[1]),r[2]=Math.max(n[2],a[2]),r}function Q0(r,n){return r[0]=Math.round(n[0]),r[1]=Math.round(n[1]),r[2]=Math.round(n[2]),r}function Y0(r,n,a){return r[0]=n[0]*a,r[1]=n[1]*a,r[2]=n[2]*a,r}function Z0(r,n,a,e){return r[0]=n[0]+a[0]*e,r[1]=n[1]+a[1]*e,r[2]=n[2]+a[2]*e,r}function pr(r,n){var a=n[0]-r[0],e=n[1]-r[1],i=n[2]-r[2];return Math.hypot(a,e,i)}function wr(r,n){var a=n[0]-r[0],e=n[1]-r[1],i=n[2]-r[2];return a*a+e*e+i*i}function gr(r){var n=r[0],a=r[1],e=r[2];return n*n+a*a+e*e}function b0(r,n){return r[0]=-n[0],r[1]=-n[1],r[2]=-n[2],r}function X0(r,n){return r[0]=1/n[0],r[1]=1/n[1],r[2]=1/n[2],r}function qr(r,n){var a=n[0],e=n[1],i=n[2],v=a*a+e*e+i*i;return v>0&&(v=1/Math.sqrt(v)),r[0]=n[0]*v,r[1]=n[1]*v,r[2]=n[2]*v,r}function B(r,n){return r[0]*n[0]+r[1]*n[1]+r[2]*n[2]}function Q(r,n,a){var e=n[0],i=n[1],v=n[2],s=a[0],c=a[1],f=a[2];return r[0]=i*f-v*c,r[1]=v*s-e*f,r[2]=e*c-i*s,r}function N0(r,n,a,e){var i=n[0],v=n[1],s=n[2];return r[0]=i+e*(a[0]-i),r[1]=v+e*(a[1]-v),r[2]=s+e*(a[2]-s),r}function B0(r,n,a,e,i,v){var s=v*v,c=s*(2*v-3)+1,f=s*(v-2)+v,h=s*(v-1),M=s*(3-2*v);return r[0]=n[0]*c+a[0]*f+e[0]*h+i[0]*M,r[1]=n[1]*c+a[1]*f+e[1]*h+i[1]*M,r[2]=n[2]*c+a[2]*f+e[2]*h+i[2]*M,r}function C0(r,n,a,e,i,v){var s=1-v,c=s*s,f=v*v,h=c*s,M=3*v*c,l=3*f*s,$=f*v;return r[0]=n[0]*h+a[0]*M+e[0]*l+i[0]*$,r[1]=n[1]*h+a[1]*M+e[1]*l+i[1]*$,r[2]=n[2]*h+a[2]*M+e[2]*l+i[2]*$,r}function U0(r,n){n=n||1;var a=P()*2*Math.PI,e=P()*2-1,i=Math.sqrt(1-e*e)*n;return r[0]=Math.cos(a)*i,r[1]=Math.sin(a)*i,r[2]=e*n,r}function W0(r,n,a){var e=n[0],i=n[1],v=n[2],s=a[3]*e+a[7]*i+a[11]*v+a[15];return s=s||1,r[0]=(a[0]*e+a[4]*i+a[8]*v+a[12])/s,r[1]=(a[1]*e+a[5]*i+a[9]*v+a[13])/s,r[2]=(a[2]*e+a[6]*i+a[10]*v+a[14])/s,r}function G0(r,n,a){var e=n[0],i=n[1],v=n[2];return r[0]=e*a[0]+i*a[3]+v*a[6],r[1]=e*a[1]+i*a[4]+v*a[7],r[2]=e*a[2]+i*a[5]+v*a[8],r}function H0(r,n,a){var e=a[0],i=a[1],v=a[2],s=a[3],c=n[0],f=n[1],h=n[2],M=i*h-v*f,l=v*c-e*h,$=e*f-i*c,y=i*$-v*l,x=v*M-e*$,m=e*l-i*M,t=s*2;return M*=t,l*=t,$*=t,y*=2,x*=2,m*=2,r[0]=c+M+y,r[1]=f+l+x,r[2]=h+$+m,r}function J0(r,n,a,e){var i=[],v=[];return i[0]=n[0]-a[0],i[1]=n[1]-a[1],i[2]=n[2]-a[2],v[0]=i[0],v[1]=i[1]*Math.cos(e)-i[2]*Math.sin(e),v[2]=i[1]*Math.sin(e)+i[2]*Math.cos(e),r[0]=v[0]+a[0],r[1]=v[1]+a[1],r[2]=v[2]+a[2],r}function K0(r,n,a,e){var i=[],v=[];return i[0]=n[0]-a[0],i[1]=n[1]-a[1],i[2]=n[2]-a[2],v[0]=i[2]*Math.sin(e)+i[0]*Math.cos(e),v[1]=i[1],v[2]=i[2]*Math.cos(e)-i[0]*Math.sin(e),r[0]=v[0]+a[0],r[1]=v[1]+a[1],r[2]=v[2]+a[2],r}function k0(r,n,a,e){var i=[],v=[];return i[0]=n[0]-a[0],i[1]=n[1]-a[1],i[2]=n[2]-a[2],v[0]=i[0]*Math.cos(e)-i[1]*Math.sin(e),v[1]=i[0]*Math.sin(e)+i[1]*Math.cos(e),v[2]=i[2],r[0]=v[0]+a[0],r[1]=v[1]+a[1],r[2]=v[2]+a[2],r}function u0(r,n){var a=r[0],e=r[1],i=r[2],v=n[0],s=n[1],c=n[2],f=Math.sqrt(a*a+e*e+i*i),h=Math.sqrt(v*v+s*s+c*c),M=f*h,l=M&&B(r,n)/M;return Math.acos(Math.min(Math.max(l,-1),1))}function o0(r){return r[0]=0,r[1]=0,r[2]=0,r}function ra(r){return"vec3("+r[0]+", "+r[1]+", "+r[2]+")"}function na(r,n){return r[0]===n[0]&&r[1]===n[1]&&r[2]===n[2]}function aa(r,n){var a=r[0],e=r[1],i=r[2],v=n[0],s=n[1],c=n[2];return Math.abs(a-v)<=z*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(e-s)<=z*Math.max(1,Math.abs(e),Math.abs(s))&&Math.abs(i-c)<=z*Math.max(1,Math.abs(i),Math.abs(c))}var ea=mr,ia=dr,va=zr,sa=pr,ca=wr,Ar=xr,fa=gr,ha=function(){var r=X();return function(n,a,e,i,v,s){var c,f;for(a||(a=3),e||(e=0),i?f=Math.min(i*a+e,n.length):f=n.length,c=e;c<f;c+=a)r[0]=n[c],r[1]=n[c+1],r[2]=n[c+2],v(r,r,s),n[c]=r[0],n[c+1]=r[1],n[c+2]=r[2];return n}}(),Ma=Object.freeze({__proto__:null,create:X,clone:D0,length:xr,fromValues:N,copy:O0,set:V0,add:L0,subtract:mr,multiply:dr,divide:zr,ceil:F0,floor:P0,min:I0,max:j0,round:Q0,scale:Y0,scaleAndAdd:Z0,distance:pr,squaredDistance:wr,squaredLength:gr,negate:b0,inverse:X0,normalize:qr,dot:B,cross:Q,lerp:N0,hermite:B0,bezier:C0,random:U0,transformMat4:W0,transformMat3:G0,transformQuat:H0,rotateX:J0,rotateY:K0,rotateZ:k0,angle:u0,zero:o0,str:ra,exactEquals:na,equals:aa,sub:ea,mul:ia,div:va,dist:sa,sqrDist:ca,len:Ar,sqrLen:fa,forEach:ha});function Rr(){var r=new T(4);return T!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0,r[3]=0),r}function Tr(r){var n=new T(4);return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n}function Sr(r,n,a,e){var i=new T(4);return i[0]=r,i[1]=n,i[2]=a,i[3]=e,i}function Er(r,n){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r}function _r(r,n,a,e,i){return r[0]=n,r[1]=a,r[2]=e,r[3]=i,r}function Dr(r,n,a){return r[0]=n[0]+a[0],r[1]=n[1]+a[1],r[2]=n[2]+a[2],r[3]=n[3]+a[3],r}function Or(r,n,a){return r[0]=n[0]-a[0],r[1]=n[1]-a[1],r[2]=n[2]-a[2],r[3]=n[3]-a[3],r}function Vr(r,n,a){return r[0]=n[0]*a[0],r[1]=n[1]*a[1],r[2]=n[2]*a[2],r[3]=n[3]*a[3],r}function Lr(r,n,a){return r[0]=n[0]/a[0],r[1]=n[1]/a[1],r[2]=n[2]/a[2],r[3]=n[3]/a[3],r}function la(r,n){return r[0]=Math.ceil(n[0]),r[1]=Math.ceil(n[1]),r[2]=Math.ceil(n[2]),r[3]=Math.ceil(n[3]),r}function ya(r,n){return r[0]=Math.floor(n[0]),r[1]=Math.floor(n[1]),r[2]=Math.floor(n[2]),r[3]=Math.floor(n[3]),r}function $a(r,n,a){return r[0]=Math.min(n[0],a[0]),r[1]=Math.min(n[1],a[1]),r[2]=Math.min(n[2],a[2]),r[3]=Math.min(n[3],a[3]),r}function ta(r,n,a){return r[0]=Math.max(n[0],a[0]),r[1]=Math.max(n[1],a[1]),r[2]=Math.max(n[2],a[2]),r[3]=Math.max(n[3],a[3]),r}function xa(r,n){return r[0]=Math.round(n[0]),r[1]=Math.round(n[1]),r[2]=Math.round(n[2]),r[3]=Math.round(n[3]),r}function Fr(r,n,a){return r[0]=n[0]*a,r[1]=n[1]*a,r[2]=n[2]*a,r[3]=n[3]*a,r}function ma(r,n,a,e){return r[0]=n[0]+a[0]*e,r[1]=n[1]+a[1]*e,r[2]=n[2]+a[2]*e,r[3]=n[3]+a[3]*e,r}function Pr(r,n){var a=n[0]-r[0],e=n[1]-r[1],i=n[2]-r[2],v=n[3]-r[3];return Math.hypot(a,e,i,v)}function Ir(r,n){var a=n[0]-r[0],e=n[1]-r[1],i=n[2]-r[2],v=n[3]-r[3];return a*a+e*e+i*i+v*v}function C(r){var n=r[0],a=r[1],e=r[2],i=r[3];return Math.hypot(n,a,e,i)}function U(r){var n=r[0],a=r[1],e=r[2],i=r[3];return n*n+a*a+e*e+i*i}function da(r,n){return r[0]=-n[0],r[1]=-n[1],r[2]=-n[2],r[3]=-n[3],r}function za(r,n){return r[0]=1/n[0],r[1]=1/n[1],r[2]=1/n[2],r[3]=1/n[3],r}function jr(r,n){var a=n[0],e=n[1],i=n[2],v=n[3],s=a*a+e*e+i*i+v*v;return s>0&&(s=1/Math.sqrt(s)),r[0]=a*s,r[1]=e*s,r[2]=i*s,r[3]=v*s,r}function Qr(r,n){return r[0]*n[0]+r[1]*n[1]+r[2]*n[2]+r[3]*n[3]}function pa(r,n,a,e){var i=a[0]*e[1]-a[1]*e[0],v=a[0]*e[2]-a[2]*e[0],s=a[0]*e[3]-a[3]*e[0],c=a[1]*e[2]-a[2]*e[1],f=a[1]*e[3]-a[3]*e[1],h=a[2]*e[3]-a[3]*e[2],M=n[0],l=n[1],$=n[2],y=n[3];return r[0]=l*h-$*f+y*c,r[1]=-(M*h)+$*s-y*v,r[2]=M*f-l*s+y*i,r[3]=-(M*c)+l*v-$*i,r}function Yr(r,n,a,e){var i=n[0],v=n[1],s=n[2],c=n[3];return r[0]=i+e*(a[0]-i),r[1]=v+e*(a[1]-v),r[2]=s+e*(a[2]-s),r[3]=c+e*(a[3]-c),r}function wa(r,n){n=n||1;var a,e,i,v,s,c;do a=P()*2-1,e=P()*2-1,s=a*a+e*e;while(s>=1);do i=P()*2-1,v=P()*2-1,c=i*i+v*v;while(c>=1);var f=Math.sqrt((1-s)/c);return r[0]=n*a,r[1]=n*e,r[2]=n*i*f,r[3]=n*v*f,r}function ga(r,n,a){var e=n[0],i=n[1],v=n[2],s=n[3];return r[0]=a[0]*e+a[4]*i+a[8]*v+a[12]*s,r[1]=a[1]*e+a[5]*i+a[9]*v+a[13]*s,r[2]=a[2]*e+a[6]*i+a[10]*v+a[14]*s,r[3]=a[3]*e+a[7]*i+a[11]*v+a[15]*s,r}function qa(r,n,a){var e=n[0],i=n[1],v=n[2],s=a[0],c=a[1],f=a[2],h=a[3],M=h*e+c*v-f*i,l=h*i+f*e-s*v,$=h*v+s*i-c*e,y=-s*e-c*i-f*v;return r[0]=M*h+y*-s+l*-f-$*-c,r[1]=l*h+y*-c+$*-s-M*-f,r[2]=$*h+y*-f+M*-c-l*-s,r[3]=n[3],r}function Aa(r){return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r}function Ra(r){return"vec4("+r[0]+", "+r[1]+", "+r[2]+", "+r[3]+")"}function Zr(r,n){return r[0]===n[0]&&r[1]===n[1]&&r[2]===n[2]&&r[3]===n[3]}function br(r,n){var a=r[0],e=r[1],i=r[2],v=r[3],s=n[0],c=n[1],f=n[2],h=n[3];return Math.abs(a-s)<=z*Math.max(1,Math.abs(a),Math.abs(s))&&Math.abs(e-c)<=z*Math.max(1,Math.abs(e),Math.abs(c))&&Math.abs(i-f)<=z*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(v-h)<=z*Math.max(1,Math.abs(v),Math.abs(h))}var Ta=Or,Sa=Vr,Ea=Lr,_a=Pr,Da=Ir,Oa=C,Va=U,La=function(){var r=Rr();return function(n,a,e,i,v,s){var c,f;for(a||(a=4),e||(e=0),i?f=Math.min(i*a+e,n.length):f=n.length,c=e;c<f;c+=a)r[0]=n[c],r[1]=n[c+1],r[2]=n[c+2],r[3]=n[c+3],v(r,r,s),n[c]=r[0],n[c+1]=r[1],n[c+2]=r[2],n[c+3]=r[3];return n}}(),Fa=Object.freeze({__proto__:null,create:Rr,clone:Tr,fromValues:Sr,copy:Er,set:_r,add:Dr,subtract:Or,multiply:Vr,divide:Lr,ceil:la,floor:ya,min:$a,max:ta,round:xa,scale:Fr,scaleAndAdd:ma,distance:Pr,squaredDistance:Ir,length:C,squaredLength:U,negate:da,inverse:za,normalize:jr,dot:Qr,cross:pa,lerp:Yr,random:wa,transformMat4:ga,transformQuat:qa,zero:Aa,str:Ra,exactEquals:Zr,equals:br,sub:Ta,mul:Sa,div:Ea,dist:_a,sqrDist:Da,len:Oa,sqrLen:Va,forEach:La});function Y(){var r=new T(4);return T!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r[3]=1,r}function Pa(r){return r[0]=0,r[1]=0,r[2]=0,r[3]=1,r}function Xr(r,n,a){a=a*.5;var e=Math.sin(a);return r[0]=e*n[0],r[1]=e*n[1],r[2]=e*n[2],r[3]=Math.cos(a),r}function Ia(r,n){var a=Math.acos(n[3])*2,e=Math.sin(a/2);return e>z?(r[0]=n[0]/e,r[1]=n[1]/e,r[2]=n[2]/e):(r[0]=1,r[1]=0,r[2]=0),a}function ja(r,n){var a=G(r,n);return Math.acos(2*a*a-1)}function Nr(r,n,a){var e=n[0],i=n[1],v=n[2],s=n[3],c=a[0],f=a[1],h=a[2],M=a[3];return r[0]=e*M+s*c+i*h-v*f,r[1]=i*M+s*f+v*c-e*h,r[2]=v*M+s*h+e*f-i*c,r[3]=s*M-e*c-i*f-v*h,r}function Br(r,n,a){a*=.5;var e=n[0],i=n[1],v=n[2],s=n[3],c=Math.sin(a),f=Math.cos(a);return r[0]=e*f+s*c,r[1]=i*f+v*c,r[2]=v*f-i*c,r[3]=s*f-e*c,r}function Cr(r,n,a){a*=.5;var e=n[0],i=n[1],v=n[2],s=n[3],c=Math.sin(a),f=Math.cos(a);return r[0]=e*f-v*c,r[1]=i*f+s*c,r[2]=v*f+e*c,r[3]=s*f-i*c,r}function Ur(r,n,a){a*=.5;var e=n[0],i=n[1],v=n[2],s=n[3],c=Math.sin(a),f=Math.cos(a);return r[0]=e*f+i*c,r[1]=i*f-e*c,r[2]=v*f+s*c,r[3]=s*f-v*c,r}function Qa(r,n){var a=n[0],e=n[1],i=n[2];return r[0]=a,r[1]=e,r[2]=i,r[3]=Math.sqrt(Math.abs(1-a*a-e*e-i*i)),r}function Wr(r,n){var a=n[0],e=n[1],i=n[2],v=n[3],s=Math.sqrt(a*a+e*e+i*i),c=Math.exp(v),f=s>0?c*Math.sin(s)/s:0;return r[0]=a*f,r[1]=e*f,r[2]=i*f,r[3]=c*Math.cos(s),r}function Gr(r,n){var a=n[0],e=n[1],i=n[2],v=n[3],s=Math.sqrt(a*a+e*e+i*i),c=s>0?Math.atan2(s,v)/s:0;return r[0]=a*c,r[1]=e*c,r[2]=i*c,r[3]=.5*Math.log(a*a+e*e+i*i+v*v),r}function Ya(r,n,a){return Gr(r,n),Jr(r,r,a),Wr(r,r),r}function Z(r,n,a,e){var i=n[0],v=n[1],s=n[2],c=n[3],f=a[0],h=a[1],M=a[2],l=a[3],$,y,x,m,t;return y=i*f+v*h+s*M+c*l,y<0&&(y=-y,f=-f,h=-h,M=-M,l=-l),1-y>z?($=Math.acos(y),x=Math.sin($),m=Math.sin((1-e)*$)/x,t=Math.sin(e*$)/x):(m=1-e,t=e),r[0]=m*i+t*f,r[1]=m*v+t*h,r[2]=m*s+t*M,r[3]=m*c+t*l,r}function Za(r){var n=P(),a=P(),e=P(),i=Math.sqrt(1-n),v=Math.sqrt(n);return r[0]=i*Math.sin(2*Math.PI*a),r[1]=i*Math.cos(2*Math.PI*a),r[2]=v*Math.sin(2*Math.PI*e),r[3]=v*Math.cos(2*Math.PI*e),r}function ba(r,n){var a=n[0],e=n[1],i=n[2],v=n[3],s=a*a+e*e+i*i+v*v,c=s?1/s:0;return r[0]=-a*c,r[1]=-e*c,r[2]=-i*c,r[3]=v*c,r}function Xa(r,n){return r[0]=-n[0],r[1]=-n[1],r[2]=-n[2],r[3]=n[3],r}function Hr(r,n){var a=n[0]+n[4]+n[8],e;if(a>0)e=Math.sqrt(a+1),r[3]=.5*e,e=.5/e,r[0]=(n[5]-n[7])*e,r[1]=(n[6]-n[2])*e,r[2]=(n[1]-n[3])*e;else{var i=0;n[4]>n[0]&&(i=1),n[8]>n[i*3+i]&&(i=2);var v=(i+1)%3,s=(i+2)%3;e=Math.sqrt(n[i*3+i]-n[v*3+v]-n[s*3+s]+1),r[i]=.5*e,e=.5/e,r[3]=(n[v*3+s]-n[s*3+v])*e,r[v]=(n[v*3+i]+n[i*3+v])*e,r[s]=(n[s*3+i]+n[i*3+s])*e}return r}function Na(r,n,a,e){var i=.5*Math.PI/180;n*=i,a*=i,e*=i;var v=Math.sin(n),s=Math.cos(n),c=Math.sin(a),f=Math.cos(a),h=Math.sin(e),M=Math.cos(e);return r[0]=v*f*M-s*c*h,r[1]=s*c*M+v*f*h,r[2]=s*f*h-v*c*M,r[3]=s*f*M+v*c*h,r}function Ba(r){return"quat("+r[0]+", "+r[1]+", "+r[2]+", "+r[3]+")"}var Ca=Tr,Ua=Sr,W=Er,Wa=_r,Ga=Dr,Ha=Nr,Jr=Fr,G=Qr,Ja=Yr,H=C,Ka=H,J=U,ka=J,K=jr,ua=Zr,oa=br,r2=function(){var r=X(),n=N(1,0,0),a=N(0,1,0);return function(e,i,v){var s=B(i,v);return s<-.999999?(Q(r,n,i),Ar(r)<1e-6&&Q(r,a,i),qr(r,r),Xr(e,r,Math.PI),e):s>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(Q(r,i,v),e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=1+s,K(e,e))}}(),n2=function(){var r=Y(),n=Y();return function(a,e,i,v,s,c){return Z(r,e,s,c),Z(n,i,v,c),Z(a,r,n,2*c*(1-c)),a}}(),a2=function(){var r=er();return function(n,a,e,i){return r[0]=e[0],r[3]=e[1],r[6]=e[2],r[1]=i[0],r[4]=i[1],r[7]=i[2],r[2]=-a[0],r[5]=-a[1],r[8]=-a[2],K(n,Hr(n,r))}}(),e2=Object.freeze({__proto__:null,create:Y,identity:Pa,setAxisAngle:Xr,getAxisAngle:Ia,getAngle:ja,multiply:Nr,rotateX:Br,rotateY:Cr,rotateZ:Ur,calculateW:Qa,exp:Wr,ln:Gr,pow:Ya,slerp:Z,random:Za,invert:ba,conjugate:Xa,fromMat3:Hr,fromEuler:Na,str:Ba,clone:Ca,fromValues:Ua,copy:W,set:Wa,add:Ga,mul:Ha,scale:Jr,dot:G,lerp:Ja,length:H,len:Ka,squaredLength:J,sqrLen:ka,normalize:K,exactEquals:ua,equals:oa,rotationTo:r2,sqlerp:n2,setAxes:a2});function i2(){var r=new T(8);return T!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0,r[4]=0,r[5]=0,r[6]=0,r[7]=0),r[3]=1,r}function v2(r){var n=new T(8);return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n}function s2(r,n,a,e,i,v,s,c){var f=new T(8);return f[0]=r,f[1]=n,f[2]=a,f[3]=e,f[4]=i,f[5]=v,f[6]=s,f[7]=c,f}function c2(r,n,a,e,i,v,s){var c=new T(8);c[0]=r,c[1]=n,c[2]=a,c[3]=e;var f=i*.5,h=v*.5,M=s*.5;return c[4]=f*e+h*a-M*n,c[5]=h*e+M*r-f*a,c[6]=M*e+f*n-h*r,c[7]=-f*r-h*n-M*a,c}function Kr(r,n,a){var e=a[0]*.5,i=a[1]*.5,v=a[2]*.5,s=n[0],c=n[1],f=n[2],h=n[3];return r[0]=s,r[1]=c,r[2]=f,r[3]=h,r[4]=e*h+i*f-v*c,r[5]=i*h+v*s-e*f,r[6]=v*h+e*c-i*s,r[7]=-e*s-i*c-v*f,r}function f2(r,n){return r[0]=0,r[1]=0,r[2]=0,r[3]=1,r[4]=n[0]*.5,r[5]=n[1]*.5,r[6]=n[2]*.5,r[7]=0,r}function h2(r,n){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=0,r[5]=0,r[6]=0,r[7]=0,r}function M2(r,n){var a=Y();lr(a,n);var e=new T(3);return hr(e,n),Kr(r,a,e),r}function kr(r,n){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r}function l2(r){return r[0]=0,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,r[6]=0,r[7]=0,r}function y2(r,n,a,e,i,v,s,c,f){return r[0]=n,r[1]=a,r[2]=e,r[3]=i,r[4]=v,r[5]=s,r[6]=c,r[7]=f,r}var $2=W;function t2(r,n){return r[0]=n[4],r[1]=n[5],r[2]=n[6],r[3]=n[7],r}var x2=W;function m2(r,n){return r[4]=n[0],r[5]=n[1],r[6]=n[2],r[7]=n[3],r}function d2(r,n){var a=n[4],e=n[5],i=n[6],v=n[7],s=-n[0],c=-n[1],f=-n[2],h=n[3];return r[0]=(a*h+v*s+e*f-i*c)*2,r[1]=(e*h+v*c+i*s-a*f)*2,r[2]=(i*h+v*f+a*c-e*s)*2,r}function z2(r,n,a){var e=n[0],i=n[1],v=n[2],s=n[3],c=a[0]*.5,f=a[1]*.5,h=a[2]*.5,M=n[4],l=n[5],$=n[6],y=n[7];return r[0]=e,r[1]=i,r[2]=v,r[3]=s,r[4]=s*c+i*h-v*f+M,r[5]=s*f+v*c-e*h+l,r[6]=s*h+e*f-i*c+$,r[7]=-e*c-i*f-v*h+y,r}function p2(r,n,a){var e=-n[0],i=-n[1],v=-n[2],s=n[3],c=n[4],f=n[5],h=n[6],M=n[7],l=c*s+M*e+f*v-h*i,$=f*s+M*i+h*e-c*v,y=h*s+M*v+c*i-f*e,x=M*s-c*e-f*i-h*v;return Br(r,n,a),e=r[0],i=r[1],v=r[2],s=r[3],r[4]=l*s+x*e+$*v-y*i,r[5]=$*s+x*i+y*e-l*v,r[6]=y*s+x*v+l*i-$*e,r[7]=x*s-l*e-$*i-y*v,r}function w2(r,n,a){var e=-n[0],i=-n[1],v=-n[2],s=n[3],c=n[4],f=n[5],h=n[6],M=n[7],l=c*s+M*e+f*v-h*i,$=f*s+M*i+h*e-c*v,y=h*s+M*v+c*i-f*e,x=M*s-c*e-f*i-h*v;return Cr(r,n,a),e=r[0],i=r[1],v=r[2],s=r[3],r[4]=l*s+x*e+$*v-y*i,r[5]=$*s+x*i+y*e-l*v,r[6]=y*s+x*v+l*i-$*e,r[7]=x*s-l*e-$*i-y*v,r}function g2(r,n,a){var e=-n[0],i=-n[1],v=-n[2],s=n[3],c=n[4],f=n[5],h=n[6],M=n[7],l=c*s+M*e+f*v-h*i,$=f*s+M*i+h*e-c*v,y=h*s+M*v+c*i-f*e,x=M*s-c*e-f*i-h*v;return Ur(r,n,a),e=r[0],i=r[1],v=r[2],s=r[3],r[4]=l*s+x*e+$*v-y*i,r[5]=$*s+x*i+y*e-l*v,r[6]=y*s+x*v+l*i-$*e,r[7]=x*s-l*e-$*i-y*v,r}function q2(r,n,a){var e=a[0],i=a[1],v=a[2],s=a[3],c=n[0],f=n[1],h=n[2],M=n[3];return r[0]=c*s+M*e+f*v-h*i,r[1]=f*s+M*i+h*e-c*v,r[2]=h*s+M*v+c*i-f*e,r[3]=M*s-c*e-f*i-h*v,c=n[4],f=n[5],h=n[6],M=n[7],r[4]=c*s+M*e+f*v-h*i,r[5]=f*s+M*i+h*e-c*v,r[6]=h*s+M*v+c*i-f*e,r[7]=M*s-c*e-f*i-h*v,r}function A2(r,n,a){var e=n[0],i=n[1],v=n[2],s=n[3],c=a[0],f=a[1],h=a[2],M=a[3];return r[0]=e*M+s*c+i*h-v*f,r[1]=i*M+s*f+v*c-e*h,r[2]=v*M+s*h+e*f-i*c,r[3]=s*M-e*c-i*f-v*h,c=a[4],f=a[5],h=a[6],M=a[7],r[4]=e*M+s*c+i*h-v*f,r[5]=i*M+s*f+v*c-e*h,r[6]=v*M+s*h+e*f-i*c,r[7]=s*M-e*c-i*f-v*h,r}function R2(r,n,a,e){if(Math.abs(e)<z)return kr(r,n);var i=Math.hypot(a[0],a[1],a[2]);e=e*.5;var v=Math.sin(e),s=v*a[0]/i,c=v*a[1]/i,f=v*a[2]/i,h=Math.cos(e),M=n[0],l=n[1],$=n[2],y=n[3];r[0]=M*h+y*s+l*f-$*c,r[1]=l*h+y*c+$*s-M*f,r[2]=$*h+y*f+M*c-l*s,r[3]=y*h-M*s-l*c-$*f;var x=n[4],m=n[5],t=n[6],d=n[7];return r[4]=x*h+d*s+m*f-t*c,r[5]=m*h+d*c+t*s-x*f,r[6]=t*h+d*f+x*c-m*s,r[7]=d*h-x*s-m*c-t*f,r}function T2(r,n,a){return r[0]=n[0]+a[0],r[1]=n[1]+a[1],r[2]=n[2]+a[2],r[3]=n[3]+a[3],r[4]=n[4]+a[4],r[5]=n[5]+a[5],r[6]=n[6]+a[6],r[7]=n[7]+a[7],r}function ur(r,n,a){var e=n[0],i=n[1],v=n[2],s=n[3],c=a[4],f=a[5],h=a[6],M=a[7],l=n[4],$=n[5],y=n[6],x=n[7],m=a[0],t=a[1],d=a[2],g=a[3];return r[0]=e*g+s*m+i*d-v*t,r[1]=i*g+s*t+v*m-e*d,r[2]=v*g+s*d+e*t-i*m,r[3]=s*g-e*m-i*t-v*d,r[4]=e*M+s*c+i*h-v*f+l*g+x*m+$*d-y*t,r[5]=i*M+s*f+v*c-e*h+$*g+x*t+y*m-l*d,r[6]=v*M+s*h+e*f-i*c+y*g+x*d+l*t-$*m,r[7]=s*M-e*c-i*f-v*h+x*g-l*m-$*t-y*d,r}var S2=ur;function E2(r,n,a){return r[0]=n[0]*a,r[1]=n[1]*a,r[2]=n[2]*a,r[3]=n[3]*a,r[4]=n[4]*a,r[5]=n[5]*a,r[6]=n[6]*a,r[7]=n[7]*a,r}var or=G;function _2(r,n,a,e){var i=1-e;return or(n,a)<0&&(e=-e),r[0]=n[0]*i+a[0]*e,r[1]=n[1]*i+a[1]*e,r[2]=n[2]*i+a[2]*e,r[3]=n[3]*i+a[3]*e,r[4]=n[4]*i+a[4]*e,r[5]=n[5]*i+a[5]*e,r[6]=n[6]*i+a[6]*e,r[7]=n[7]*i+a[7]*e,r}function D2(r,n){var a=b(n);return r[0]=-n[0]/a,r[1]=-n[1]/a,r[2]=-n[2]/a,r[3]=n[3]/a,r[4]=-n[4]/a,r[5]=-n[5]/a,r[6]=-n[6]/a,r[7]=n[7]/a,r}function O2(r,n){return r[0]=-n[0],r[1]=-n[1],r[2]=-n[2],r[3]=n[3],r[4]=-n[4],r[5]=-n[5],r[6]=-n[6],r[7]=n[7],r}var r1=H,V2=r1,b=J,L2=b;function F2(r,n){var a=b(n);if(a>0){a=Math.sqrt(a);var e=n[0]/a,i=n[1]/a,v=n[2]/a,s=n[3]/a,c=n[4],f=n[5],h=n[6],M=n[7],l=e*c+i*f+v*h+s*M;r[0]=e,r[1]=i,r[2]=v,r[3]=s,r[4]=(c-e*l)/a,r[5]=(f-i*l)/a,r[6]=(h-v*l)/a,r[7]=(M-s*l)/a}return r}function P2(r){return"quat2("+r[0]+", "+r[1]+", "+r[2]+", "+r[3]+", "+r[4]+", "+r[5]+", "+r[6]+", "+r[7]+")"}function I2(r,n){return r[0]===n[0]&&r[1]===n[1]&&r[2]===n[2]&&r[3]===n[3]&&r[4]===n[4]&&r[5]===n[5]&&r[6]===n[6]&&r[7]===n[7]}function j2(r,n){var a=r[0],e=r[1],i=r[2],v=r[3],s=r[4],c=r[5],f=r[6],h=r[7],M=n[0],l=n[1],$=n[2],y=n[3],x=n[4],m=n[5],t=n[6],d=n[7];return Math.abs(a-M)<=z*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(e-l)<=z*Math.max(1,Math.abs(e),Math.abs(l))&&Math.abs(i-$)<=z*Math.max(1,Math.abs(i),Math.abs($))&&Math.abs(v-y)<=z*Math.max(1,Math.abs(v),Math.abs(y))&&Math.abs(s-x)<=z*Math.max(1,Math.abs(s),Math.abs(x))&&Math.abs(c-m)<=z*Math.max(1,Math.abs(c),Math.abs(m))&&Math.abs(f-t)<=z*Math.max(1,Math.abs(f),Math.abs(t))&&Math.abs(h-d)<=z*Math.max(1,Math.abs(h),Math.abs(d))}var Q2=Object.freeze({__proto__:null,create:i2,clone:v2,fromValues:s2,fromRotationTranslationValues:c2,fromRotationTranslation:Kr,fromTranslation:f2,fromRotation:h2,fromMat4:M2,copy:kr,identity:l2,set:y2,getReal:$2,getDual:t2,setReal:x2,setDual:m2,getTranslation:d2,translate:z2,rotateX:p2,rotateY:w2,rotateZ:g2,rotateByQuatAppend:q2,rotateByQuatPrepend:A2,rotateAroundAxis:R2,add:T2,multiply:ur,mul:S2,scale:E2,dot:or,lerp:_2,invert:D2,conjugate:O2,length:r1,len:V2,squaredLength:b,sqrLen:L2,normalize:F2,str:P2,exactEquals:I2,equals:j2});function n1(){var r=new T(2);return T!=Float32Array&&(r[0]=0,r[1]=0),r}function Y2(r){var n=new T(2);return n[0]=r[0],n[1]=r[1],n}function Z2(r,n){var a=new T(2);return a[0]=r,a[1]=n,a}function b2(r,n){return r[0]=n[0],r[1]=n[1],r}function X2(r,n,a){return r[0]=n,r[1]=a,r}function N2(r,n,a){return r[0]=n[0]+a[0],r[1]=n[1]+a[1],r}function a1(r,n,a){return r[0]=n[0]-a[0],r[1]=n[1]-a[1],r}function e1(r,n,a){return r[0]=n[0]*a[0],r[1]=n[1]*a[1],r}function i1(r,n,a){return r[0]=n[0]/a[0],r[1]=n[1]/a[1],r}function B2(r,n){return r[0]=Math.ceil(n[0]),r[1]=Math.ceil(n[1]),r}function C2(r,n){return r[0]=Math.floor(n[0]),r[1]=Math.floor(n[1]),r}function U2(r,n,a){return r[0]=Math.min(n[0],a[0]),r[1]=Math.min(n[1],a[1]),r}function W2(r,n,a){return r[0]=Math.max(n[0],a[0]),r[1]=Math.max(n[1],a[1]),r}function G2(r,n){return r[0]=Math.round(n[0]),r[1]=Math.round(n[1]),r}function H2(r,n,a){return r[0]=n[0]*a,r[1]=n[1]*a,r}function J2(r,n,a,e){return r[0]=n[0]+a[0]*e,r[1]=n[1]+a[1]*e,r}function v1(r,n){var a=n[0]-r[0],e=n[1]-r[1];return Math.hypot(a,e)}function s1(r,n){var a=n[0]-r[0],e=n[1]-r[1];return a*a+e*e}function c1(r){var n=r[0],a=r[1];return Math.hypot(n,a)}function f1(r){var n=r[0],a=r[1];return n*n+a*a}function K2(r,n){return r[0]=-n[0],r[1]=-n[1],r}function k2(r,n){return r[0]=1/n[0],r[1]=1/n[1],r}function u2(r,n){var a=n[0],e=n[1],i=a*a+e*e;return i>0&&(i=1/Math.sqrt(i)),r[0]=n[0]*i,r[1]=n[1]*i,r}function o2(r,n){return r[0]*n[0]+r[1]*n[1]}function re(r,n,a){var e=n[0]*a[1]-n[1]*a[0];return r[0]=r[1]=0,r[2]=e,r}function ne(r,n,a,e){var i=n[0],v=n[1];return r[0]=i+e*(a[0]-i),r[1]=v+e*(a[1]-v),r}function ae(r,n){n=n||1;var a=P()*2*Math.PI;return r[0]=Math.cos(a)*n,r[1]=Math.sin(a)*n,r}function ee(r,n,a){var e=n[0],i=n[1];return r[0]=a[0]*e+a[2]*i,r[1]=a[1]*e+a[3]*i,r}function ie(r,n,a){var e=n[0],i=n[1];return r[0]=a[0]*e+a[2]*i+a[4],r[1]=a[1]*e+a[3]*i+a[5],r}function ve(r,n,a){var e=n[0],i=n[1];return r[0]=a[0]*e+a[3]*i+a[6],r[1]=a[1]*e+a[4]*i+a[7],r}function se(r,n,a){var e=n[0],i=n[1];return r[0]=a[0]*e+a[4]*i+a[12],r[1]=a[1]*e+a[5]*i+a[13],r}function ce(r,n,a,e){var i=n[0]-a[0],v=n[1]-a[1],s=Math.sin(e),c=Math.cos(e);return r[0]=i*c-v*s+a[0],r[1]=i*s+v*c+a[1],r}function fe(r,n){var a=r[0],e=r[1],i=n[0],v=n[1],s=Math.sqrt(a*a+e*e)*Math.sqrt(i*i+v*v),c=s&&(a*i+e*v)/s;return Math.acos(Math.min(Math.max(c,-1),1))}function he(r){return r[0]=0,r[1]=0,r}function Me(r){return"vec2("+r[0]+", "+r[1]+")"}function le(r,n){return r[0]===n[0]&&r[1]===n[1]}function ye(r,n){var a=r[0],e=r[1],i=n[0],v=n[1];return Math.abs(a-i)<=z*Math.max(1,Math.abs(a),Math.abs(i))&&Math.abs(e-v)<=z*Math.max(1,Math.abs(e),Math.abs(v))}var $e=c1,te=a1,xe=e1,me=i1,de=v1,ze=s1,pe=f1,we=function(){var r=n1();return function(n,a,e,i,v,s){var c,f;for(a||(a=2),e||(e=0),i?f=Math.min(i*a+e,n.length):f=n.length,c=e;c<f;c+=a)r[0]=n[c],r[1]=n[c+1],v(r,r,s),n[c]=r[0],n[c+1]=r[1];return n}}(),ge=Object.freeze({__proto__:null,create:n1,clone:Y2,fromValues:Z2,copy:b2,set:X2,add:N2,subtract:a1,multiply:e1,divide:i1,ceil:B2,floor:C2,min:U2,max:W2,round:G2,scale:H2,scaleAndAdd:J2,distance:v1,squaredDistance:s1,length:c1,squaredLength:f1,negate:K2,inverse:k2,normalize:u2,dot:o2,cross:re,lerp:ne,random:ae,transformMat2:ee,transformMat2d:ie,transformMat3:ve,transformMat4:se,rotate:ce,angle:fe,zero:he,str:Me,exactEquals:le,equals:ye,len:$e,sub:te,mul:xe,div:me,dist:de,sqrDist:ze,sqrLen:pe,forEach:we});export{$1 as glMatrix,Y1 as mat2,hn as mat2d,Zn as mat3,_0 as mat4,e2 as quat,Q2 as quat2,ge as vec2,Ma as vec3,Fa as vec4};export default null;
